<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="atoma.test.semaphore.LeaseCreationAndRenewalTest" tests="1" skipped="0" failures="1" errors="0" timestamp="2026-02-04T04:54:37.214Z" hostname="manjaro" time="1.607">
  <properties/>
  <testcase name="TEST-SEM-ACQ-007: 获取许可时租约创建和续期，验证心跳机制" classname="atoma.test.semaphore.LeaseCreationAndRenewalTest" time="1.606">
    <failure message="org.opentest4j.AssertionFailedError: &#10;expected: 1&#10; but was: 5" type="org.opentest4j.AssertionFailedError">org.opentest4j.AssertionFailedError: 
expected: 1
 but was: 5
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at atoma.test.semaphore.LeaseCreationAndRenewalTest.testLeaseCreationAndRenewal(LeaseCreationAndRenewalTest.java:45)
</failure>
  </testcase>
  <system-out><![CDATA[12:54:37.230 [Test worker] INFO  a.s.m.c.CleanDeadResourceCommandHandler - Cleaned dead leases from 0 read-write locks, modified count: 0
12:54:37.263 [atoma-ttl-worker-1] DEBUG atoma.core.DefaultLease - Lease [a59c6f86-7db2-439b-8a10-6d21a2004e95] renew completed. Previous expire time: 2026-02-04T04:54:39.246Z Next expire time: 2026-02-04T04:54:41.246Z 
12:54:37.267 [atoma-event-demultiplexer] DEBUG atoma.core.DefaultSemaphore - Semaphore received an event. Event-type: UPDATED. Latest version: 5 Semaphore Data: Document{{_id=TEST-SEM-ACQ-007, initial_permits=5, available_permits=6, leases=Document{{a59c6f86-7db2-439b-8a10-6d21a2004e95=3}}, version=5, _update_flag=true}}  
12:54:37.267 [atoma-ttl-worker-0] INFO  a.s.m.c.CleanDeadResourceCommandHandler - Cleaned dead leases from 0 read-write locks, modified count: 0
12:54:37.345 [atoma-ttl-worker-4] INFO  a.s.m.c.CleanDeadResourceCommandHandler - Cleaned dead leases from 0 read-write locks, modified count: 0
12:54:38.775 [atoma-event-demultiplexer] DEBUG atoma.core.DefaultSemaphore - Semaphore received an event. Event-type: UPDATED. Latest version: 6 Semaphore Data: Document{{_id=TEST-SEM-ACQ-007, initial_permits=5, available_permits=5, leases=Document{{a59c6f86-7db2-439b-8a10-6d21a2004e95=4}}, version=6, _update_flag=true}}  
12:54:38.801 [Test worker] INFO  a.s.m.c.CleanDeadResourceCommandHandler - Cleaned dead leases from 0 read-write locks, modified count: 0
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
