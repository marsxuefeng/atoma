<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="atoma.test.semaphore.ConcurrentMultiClientAcquisitionTest" tests="1" skipped="0" failures="1" errors="0" timestamp="2026-02-04T04:56:08.793Z" hostname="manjaro" time="0.046">
  <properties/>
  <testcase name="TEST-SEM-ACQ-006: 并发多个客户端同时获取许可，验证线程安全性" classname="atoma.test.semaphore.ConcurrentMultiClientAcquisitionTest" time="0.045">
    <failure message="org.opentest4j.AssertionFailedError: &#10;expected: 0&#10; but was: 20" type="org.opentest4j.AssertionFailedError">org.opentest4j.AssertionFailedError: 
expected: 0
 but was: 20
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at atoma.test.semaphore.ConcurrentMultiClientAcquisitionTest.testConcurrentMultiClientAcquisition(ConcurrentMultiClientAcquisitionTest.java:64)
</failure>
  </testcase>
  <system-out><![CDATA[12:56:08.808 [atoma-ttl-worker-1] DEBUG atoma.core.DefaultLease - Lease [46d021f9-e6f1-4679-9011-4e1168171098] renew completed. Previous expire time: 2026-02-04T04:56:11.800Z Next expire time: 2026-02-04T04:56:14.800Z 
12:56:08.812 [atoma-event-demultiplexer] DEBUG atoma.core.DefaultSemaphore - Semaphore received an event. Event-type: UPDATED. Latest version: 11 Semaphore Data: Document{{_id=TEST-SEM-ACQ-006, initial_permits=10, available_permits=28, leases=Document{{46d021f9-e6f1-4679-9011-4e1168171098=2}}, version=11, _update_flag=true}}  
12:56:08.812 [atoma-event-demultiplexer] DEBUG atoma.core.DefaultSemaphore - Semaphore received an event. Event-type: UPDATED. Latest version: 12 Semaphore Data: Document{{_id=TEST-SEM-ACQ-006, initial_permits=10, available_permits=26, leases=Document{{46d021f9-e6f1-4679-9011-4e1168171098=4}}, version=12, _update_flag=true}}  
12:56:08.813 [atoma-event-demultiplexer] DEBUG atoma.core.DefaultSemaphore - Semaphore received an event. Event-type: UPDATED. Latest version: 13 Semaphore Data: Document{{_id=TEST-SEM-ACQ-006, initial_permits=10, available_permits=24, leases=Document{{46d021f9-e6f1-4679-9011-4e1168171098=6}}, version=13, _update_flag=true}}  
12:56:08.814 [atoma-event-demultiplexer] DEBUG atoma.core.DefaultSemaphore - Semaphore received an event. Event-type: UPDATED. Latest version: 14 Semaphore Data: Document{{_id=TEST-SEM-ACQ-006, initial_permits=10, available_permits=22, leases=Document{{46d021f9-e6f1-4679-9011-4e1168171098=8}}, version=14, _update_flag=true}}  
12:56:08.817 [atoma-event-demultiplexer] DEBUG atoma.core.DefaultSemaphore - Semaphore received an event. Event-type: UPDATED. Latest version: 15 Semaphore Data: Document{{_id=TEST-SEM-ACQ-006, initial_permits=10, available_permits=20, leases=Document{{46d021f9-e6f1-4679-9011-4e1168171098=10}}, version=15, _update_flag=true}}  
12:56:08.835 [Test worker] INFO  a.s.m.c.CleanDeadResourceCommandHandler - Cleaned dead leases from 1 semaphores, modified count: 1
]]></system-out>
  <system-err><![CDATA[20
]]></system-err>
</testsuite>
